<!-- Elif Ã–zer -->

{% extends "base.html" %}

{% block head %}
	<script type="text/javascript" src="{{ url_for('static', filename='scripts/news.js') }}"></script>
{% endblock %}

{% block title %}News{% endblock %}

{% block content %}
{% if admin %}
<section id="addNewsSection" class="row">
	<div>
		<button type="button" class="btn btn-default pull-right" data-toggle="modal" data-target="#addNewsModal"'>Add News</button>
	</div>
</section>
{% endif %}

{% if authenticated %}
<section id="newsSearchSection" style="padding:20px 0 20px 0; margin: 0 auto; width: 40%;">
	<div class="row">
		<div>
	    	<div class="input-group">
	      		<input name="searchBy" type="text" class="form-control" placeholder="Enter a musician / band name...">

	      		<span class="input-group-btn">
	        		<button class="btn btn-default" type="button" style="color:#4f7942;" onclick="return SearchMusician();">Search</button>
	      		</span>
	    	</div>
	  	</div>
	</div>
</section>
{% endif %}

<section id="newsSection" style="margin-top: 20px; height: 500px;" class="row">
	{% for n in newsList|sort(attribute="createDate", reverse=True) %}
	<div class="col-xs-6 col-lg-4" style="padding-right: 0px; height: 500px;">
		<div class="panel panel-default">
			<div class="panel-heading" style="background: #db6900; color: #fff;">
				<h3 style="font-weight: bold;">{{ n.title }}</h3>
			</div>

			<div class="panel-body" style="padding: 10px;">
				<div style="text-align: center; margin-top: 15px;">
					<img src="{{ n.imgUrl }}" height=200px;>
				</div>

				<div style="margin-top: 30px; text-align: justify;">
					<h3>{{ n.content }}</h3>
				</div>

				<div style="text-align: right; font-size: 0.80em; color: #9c9c9c; margin-top: 40px;">
					<h3>{{ n.createdBy }}</h3>
					<h3>{{ n.updateDate }}</h3>
				</div>
			</div>
		</div>
	</div>
	{% endfor %}
</section>

<section id="addNewsModalSection">
	<div id="addNewsModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" style="color: #000;" data-dismiss="modal">&times;</button>

					<h4 class="modal-title">Add News</h4>
				</div>

				<div class="modal-body">
					<div id="newsAlertHolder" style="margin: 20px 0 0 20px;"></div>

					<div style="width: 300px;">
						<div style="margin: 20px 0 0 20px;">
							<p style="color: #8a9a5b; font-weight: bold;">Title:</p>
							<input type="text" class="form-control" id="addnews_title"></input>
						</div>

						<div style="margin: 20px 0 0 20px;">
							<p style="color: #8a9a5b; font-weight: bold;">Musician:</p>
							<input type="text" class="form-control" id="addnews_musician"></input>
						</div>

						<div style="margin: 20px 0 0 20px;">
							<p style="color: #8a9a5b; font-weight: bold;">Image URL:</p>
							<input type="text" class="form-control" id="addnews_imgUrl"></input>
						</div>
					</div>

					<div style="margin: 20px 20px 0 20px;">
						<p style="color: #8a9a5b; font-weight: bold;">Content:</p>

						<div class="form-group">
							<textarea class="form-control" rows="4" maxlength="400" id="addnews_content"></textarea>
						</div>
					</div>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-default" onclick='return AddNews();'>Add</button>
				</div>
			</div>
		</div>
	</div>
</section>
{% endblock %}